# 课表模块

## 获取课表信息

### 路径

<Route method="GET" :auth="true" path="/api/ycjw/timetable" />

### 参数

无

### 响应

- `list`：课表信息
- `term`：学期，例：2019/2020(1)

#### `list`

- `课程名称`：课程名称
- `开课学院`：开课学院（正方系统返回空值）
- `课程信息`：课程信息
- `课程类型`：课程类型，考试 / 考查 / 未安排
- `学时`：学时
- `学分`：学分
- `名称`：课程名称（从 `课程名称` 字段中分离得到）
- `老师`：老师（从 `课程名称` 字段中分离得到）
- `信息`：课程信息组数，每一项表示一个时间段（从 `课程信息` 字段中分离得到）

#### `信息`

- `周`：课程周，例：1-16 周
- `开始周`：开始周，1-16
- `结束周`：结束周，1-16
- `周类型`：周类型，odd / even / default
- `星期`：星期，1-7
- `开始节`：开始节，1-12
- `结束节`：结束节，1-12
- `地点`：地点

### 状态

| 错误码 | 状态                                   |
| ------ | -------------------------------------- |
| 1      | 获取课表成功                           |
| -1     | 没有认证信息                           |
| -1     | 需要绑定（用户名或密码为空）           |
| -1     | 请重新绑定正方账号（用户名或密码错误） |
| -1     | 其他错误                               |

### 例子

- 正方数据举例：

```json
{
  "errcode": 1,
  "errmsg": "获取课表成功",
  "data": {
    "pending_time": 0.9717981815338135,
    "list": [
      {
        "课程名称": "高等数学Ⅱ:陈剑利",
        "开课学院": "",
        "课程信息": "1-16周:星期1(3-4) 博易C307;",
        "课程类型": "考试",
        "学时": "32",
        "学分": "2",
        "名称": "高等数学Ⅱ",
        "老师": "陈剑利",
        "信息": [
          {
            "周": "1-16周",
            "开始周": "1",
            "结束周": "16",
            "周类型": "default",
            "星期": "1",
            "开始节": "3",
            "结束节": "4",
            "地点": "博易C307"
          }
        ]
      },
      {
        "课程名称": "体育:陈春虎",
        "开课学院": "",
        "课程信息": "1-16周:星期1(6-7) 未排地点;",
        "课程类型": "未安排",
        "学时": "32",
        "学分": "2",
        "名称": "体育",
        "老师": "陈春虎",
        "信息": [
          {
            "周": "1-16周",
            "开始周": "1",
            "结束周": "16",
            "周类型": "default",
            "星期": "1",
            "开始节": "6",
            "结束节": "7",
            "地点": "未排地点"
          }
        ]
      },
      {
        "课程名称": "数码摄影基础与赏析:施韬",
        "开课学院": "",
        "课程信息": "1-16周:星期1(8-9) 广B305;",
        "课程类型": "未安排",
        "学时": "32",
        "学分": "2",
        "名称": "数码摄影基础与赏析",
        "老师": "施韬",
        "信息": [
          {
            "周": "1-16周",
            "开始周": "1",
            "结束周": "16",
            "周类型": "default",
            "星期": "1",
            "开始节": "8",
            "结束节": "9",
            "地点": "广B305"
          }
        ]
      },
      {
        "课程名称": "思想道德修养与法律基础:罗许成",
        "开课学院": "",
        "课程信息": "1周:星期1(10-12) 广B214;",
        "课程类型": "考查",
        "学时": "48",
        "学分": "3",
        "名称": "思想道德修养与法律基础",
        "老师": "罗许成",
        "信息": [
          {
            "周": "1周",
            "开始周": "1",
            "结束周": "1",
            "周类型": "default",
            "星期": "1",
            "开始节": "10",
            "结束节": "12",
            "地点": "广B214"
          }
        ]
      },
      {
        "课程名称": "思想道德修养与法律基础:罗许成",
        "开课学院": "",
        "课程信息": "2-16周:星期1(10-12) 博易C506;",
        "课程类型": "考查",
        "学时": "48",
        "学分": "3",
        "名称": "思想道德修养与法律基础",
        "老师": "罗许成",
        "信息": [
          {
            "周": "2-16周",
            "开始周": "2",
            "结束周": "16",
            "周类型": "default",
            "星期": "1",
            "开始节": "10",
            "结束节": "12",
            "地点": "博易C506"
          }
        ]
      },
      {
        "课程名称": "离散数学:廖锋峰",
        "开课学院": "",
        "课程信息": "1-16周:星期2(1-2) 郁文B303;",
        "课程类型": "考试",
        "学时": "32",
        "学分": "2",
        "名称": "离散数学",
        "老师": "廖锋峰",
        "信息": [
          {
            "周": "1-16周",
            "开始周": "1",
            "结束周": "16",
            "周类型": "default",
            "星期": "2",
            "开始节": "1",
            "结束节": "2",
            "地点": "郁文B303"
          }
        ]
      },
      {
        "课程名称": "大学物理实验  A:王昌辉",
        "开课学院": "",
        "课程信息": "2-16周:星期2(6-8) 未排地点;",
        "课程类型": "考查",
        "学时": "48",
        "学分": "3",
        "名称": "大学物理实验  A",
        "老师": "王昌辉",
        "信息": [
          {
            "周": "2-16周",
            "开始周": "2",
            "结束周": "16",
            "周类型": "default",
            "星期": "2",
            "开始节": "6",
            "结束节": "8",
            "地点": "未排地点"
          }
        ]
      },
      {
        "课程名称": "大学物理AⅠ:周寒青",
        "开课学院": "",
        "课程信息": "1-12周,14-16周:星期3(1-2) 博易C507;",
        "课程类型": "考试",
        "学时": "32",
        "学分": "2",
        "名称": "大学物理AⅠ",
        "老师": "周寒青",
        "信息": [
          {
            "周": "1-12周",
            "开始周": "1",
            "结束周": "12",
            "周类型": "default",
            "星期": "3",
            "开始节": "1",
            "结束节": "2",
            "地点": "博易C507"
          },
          {
            "周": "14-16周",
            "开始周": "14",
            "结束周": "16",
            "周类型": "default",
            "星期": "3",
            "开始节": "1",
            "结束节": "2",
            "地点": "博易C507"
          }
        ]
      },
      {
        "课程名称": "大学物理AⅠ:辛晓天",
        "开课学院": "",
        "课程信息": "13周:星期3(1-2) 博易C507;",
        "课程类型": "考试",
        "学时": "32",
        "学分": "2",
        "名称": "大学物理AⅠ",
        "老师": "辛晓天",
        "信息": [
          {
            "周": "13周",
            "开始周": "13",
            "结束周": "13",
            "周类型": "default",
            "星期": "3",
            "开始节": "1",
            "结束节": "2",
            "地点": "博易C507"
          }
        ]
      },
      {
        "课程名称": "C++程序设计:毛国红",
        "开课学院": "",
        "课程信息": "1-3周:星期3(3-4) 郁文B408;",
        "课程类型": "考试",
        "学时": "32",
        "学分": "2",
        "名称": "C++程序设计",
        "老师": "毛国红",
        "信息": [
          {
            "周": "1-3周",
            "开始周": "1",
            "结束周": "3",
            "周类型": "default",
            "星期": "3",
            "开始节": "3",
            "结束节": "4",
            "地点": "郁文B408"
          }
        ]
      },
      {
        "课程名称": "C++程序设计:毛国红",
        "开课学院": "",
        "课程信息": "4-16周:星期3(3-4) 广B404;",
        "课程类型": "考试",
        "学时": "32",
        "学分": "2",
        "名称": "C++程序设计",
        "老师": "毛国红",
        "信息": [
          {
            "周": "4-16周",
            "开始周": "4",
            "结束周": "16",
            "周类型": "default",
            "星期": "3",
            "开始节": "3",
            "结束节": "4",
            "地点": "广B404"
          }
        ]
      },
      {
        "课程名称": "高等数学Ⅱ:陈剑利",
        "开课学院": "",
        "课程信息": "1-16周:星期3(6-7) 博易C307;",
        "课程类型": "考试",
        "学时": "32",
        "学分": "2",
        "名称": "高等数学Ⅱ",
        "老师": "陈剑利",
        "信息": [
          {
            "周": "1-16周",
            "开始周": "1",
            "结束周": "16",
            "周类型": "default",
            "星期": "3",
            "开始节": "6",
            "结束节": "7",
            "地点": "博易C307"
          }
        ]
      },
      {
        "课程名称": "通用学术英语:杨晓东",
        "开课学院": "",
        "课程信息": "1-10周,12-16周:星期3(8-9) 博易B304;",
        "课程类型": "考试",
        "学时": "32",
        "学分": "2",
        "名称": "通用学术英语",
        "老师": "杨晓东",
        "信息": [
          {
            "周": "1-10周",
            "开始周": "1",
            "结束周": "10",
            "周类型": "default",
            "星期": "3",
            "开始节": "8",
            "结束节": "9",
            "地点": "博易B304"
          },
          {
            "周": "12-16周",
            "开始周": "12",
            "结束周": "16",
            "周类型": "default",
            "星期": "3",
            "开始节": "8",
            "结束节": "9",
            "地点": "博易B304"
          }
        ]
      },
      {
        "课程名称": "离散数学:廖锋峰",
        "开课学院": "",
        "课程信息": "1-16周:星期4(3-4) 郁文B303;",
        "课程类型": "考试",
        "学时": "32",
        "学分": "2",
        "名称": "离散数学",
        "老师": "廖锋峰",
        "信息": [
          {
            "周": "1-16周",
            "开始周": "1",
            "结束周": "16",
            "周类型": "default",
            "星期": "4",
            "开始节": "3",
            "结束节": "4",
            "地点": "郁文B303"
          }
        ]
      },
      {
        "课程名称": "通用学术英语:杨晓东",
        "开课学院": "",
        "课程信息": "1-10周,12-16周:星期4(6-7) 博易B304;",
        "课程类型": "考试",
        "学时": "32",
        "学分": "2",
        "名称": "通用学术英语",
        "老师": "杨晓东",
        "信息": [
          {
            "周": "1-10周",
            "开始周": "1",
            "结束周": "10",
            "周类型": "default",
            "星期": "4",
            "开始节": "6",
            "结束节": "7",
            "地点": "博易B304"
          },
          {
            "周": "12-16周",
            "开始周": "12",
            "结束周": "16",
            "周类型": "default",
            "星期": "4",
            "开始节": "6",
            "结束节": "7",
            "地点": "博易B304"
          }
        ]
      },
      {
        "课程名称": "高等数学Ⅱ:陈剑利",
        "开课学院": "",
        "课程信息": "1-16周:星期5(3-4) 仁和210;",
        "课程类型": "考试",
        "学时": "32",
        "学分": "2",
        "名称": "高等数学Ⅱ",
        "老师": "陈剑利",
        "信息": [
          {
            "周": "1-16周",
            "开始周": "1",
            "结束周": "16",
            "周类型": "default",
            "星期": "5",
            "开始节": "3",
            "结束节": "4",
            "地点": "仁和210"
          }
        ]
      },
      {
        "课程名称": "大学物理AⅠ:周寒青",
        "开课学院": "",
        "课程信息": "1-8周:星期5(6-7) 健B110;",
        "课程类型": "考试",
        "学时": "32",
        "学分": "2",
        "名称": "大学物理AⅠ",
        "老师": "周寒青",
        "信息": [
          {
            "周": "1-8周",
            "开始周": "1",
            "结束周": "8",
            "周类型": "default",
            "星期": "5",
            "开始节": "6",
            "结束节": "7",
            "地点": "健B110"
          }
        ]
      },
      {
        "课程名称": "C++程序设计:毛国红",
        "开课学院": "",
        "课程信息": "1-2周:星期5(10-11) 郁文B205;",
        "课程类型": "考试",
        "学时": "32",
        "学分": "2",
        "名称": "C++程序设计",
        "老师": "毛国红",
        "信息": [
          {
            "周": "1-2周",
            "开始周": "1",
            "结束周": "2",
            "周类型": "default",
            "星期": "5",
            "开始节": "10",
            "结束节": "11",
            "地点": "郁文B205"
          }
        ]
      },
      {
        "课程名称": "C++程序设计:毛国红",
        "开课学院": "",
        "课程信息": "3-16周:星期5(10-11) 健B105;",
        "课程类型": "考试",
        "学时": "32",
        "学分": "2",
        "名称": "C++程序设计",
        "老师": "毛国红",
        "信息": [
          {
            "周": "3-16周",
            "开始周": "3",
            "结束周": "16",
            "周类型": "default",
            "星期": "5",
            "开始节": "10",
            "结束节": "11",
            "地点": "健B105"
          }
        ]
      },
      {
        "课程名称": "通用学术英语:杨晓东",
        "开课学院": "",
        "课程信息": "15-16周:星期6(6-7) 博易B304;",
        "课程类型": "考试",
        "学时": "32",
        "学分": "2",
        "名称": "通用学术英语",
        "老师": "杨晓东",
        "信息": [
          {
            "周": "15-16周",
            "开始周": "15",
            "结束周": "16",
            "周类型": "default",
            "星期": "6",
            "开始节": "6",
            "结束节": "7",
            "地点": "博易B304"
          }
        ]
      }
    ],
    "term": "2017/2018(2)"
  },
  "redirect": null
}
```

## 学期切换

### 路径

<Route method="PUT" :auth="true" path="/api/Ycjw/timetable" />

### 备注

该 API 仅修改小程序服务端中的学期，不连接数据服务器进行查询。

### 参数

- `term`：学期，例：2019/2020(1)
- `pending_time`：微精弘后台请求精弘数据后端 API 所用的时间

### 响应

空

### 状态

| 错误码 | 状态         |
| ------ | ------------ |
| 1      | 切换学期成功 |
| -1     | 没有认证信息 |

### 例子

```json
{
  "errcode": 1,
  "errmsg": "切换学期成功",
  "data": null,
  "redirect": null
}
```
