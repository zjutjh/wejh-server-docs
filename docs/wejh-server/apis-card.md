# 校园卡模块

## 获取校园卡信息

### 路径

<Route method="GET" :auth="true" path="/api/card" />

### 参数

无

### 响应

- `姓名`：姓名
- `卡余额`：卡余额
- `今日账单`：今日账单

#### `今日账单`

- `流水号`：流水号
- `账号`：账号;
- `卡片类型`：卡片类型
- `交易类型`：交易类型
- `商户`：商户
- `站点`：站点
- `终端号`：终端号
- `交易额`：交易额
- `到账时间`：到账时间
- `钱包名称`：钱包名称
- `卡余额`：卡余额

### 状态

| 错误码 | 状态               |
| ------ | ------------------ |
| 1      | 获取一卡通信息成功 |
| -1     | 没有认证信息       |
| -1     | 需要绑定           |
| -1     | 服务器错误         |

### 例子

```json
{
  "errcode": 1,
  "errmsg": "获取一卡通信息成功",
  "data": {
    "姓名": "姓名",
    "卡余额": "2.76",
    "今日账单": []
  },
  "redirect": null
}
```

## 绑定校园卡账号

### 路径

<Route method="POST" :auth="true" path="/api/card/bind" />

### 备注

该 API 修改微精弘服务端中记录的一卡通密码，并接数据服务器进行验证。

### 参数

- `password`：一卡通密码

### 响应

[用户数据对象](./apis-auth.html)

### 状态

| 错误码 | 状态                           |
| ------ | ------------------------------ |
| 1      | 绑定成功（密码正确） |
| -1     | 没有认证信息                   |
| -1     | 用户名或密码错误（或其他错误） |

### 例子

```json
{
  "errcode": 1,
  "errmsg": "绑定成功",
  "data": {
    "id": "id",
    "uno": "uno",
    "...": "..."
  },
  "redirect": null
}
```
